<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <title>Teste de Upload</title>
</head>
<body>

  <h2>Teste de Upload de Imagem</h2>

  <form id="uploadForm">
    <label>Token do usuário</label><br>
    <input type="text" id="token" placeholder="insere o token aqui" required /><br><br>

    <label>Imagem</label><br>
    <input type="file" id="imagem" accept="image/*" required /><br><br>

    <!-- Se tua rota tiver mais campos, adiciona aqui -->
    <!-- <input type="text" id="titulo" placeholder="Título"> -->

    <button type="submit">Enviar</button>
  </form>

  <pre id="saida"></pre>
<!-- 
  <script>
    document.getElementById("uploadForm").addEventListener("submit", async (e) => {
      e.preventDefault();

      const token = document.getElementById("token").value;
      const fileInput = document.getElementById("imagem").files[0];

      const formData = new FormData();
      formData.append("file", fileInput); 
      // se tiver outros campos:
      // formData.append("title", document.getElementById("titulo").value);

      try {
        const resp = await fetch("http://localhost:3000/api/v1/images/upload", {
          method: "POST",
          headers: {
            "Authorization": `Bearer ${token}`,
          },
          body: formData,
        });

        const data = await resp.json();
        document.getElementById("saida").textContent = JSON.stringify(data, null, 2);

      } catch (err) {
        document.getElementById("saida").textContent = "Erro: " + err.message;
      }
    });
  </script> -->

  <script>
    let token = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOjEsInJvbGUiOiJVU0VSIiwiaWF0IjoxNzY1MzczOTA4LCJleHAiOjE3NjUzNzQ4MDh9.2v8unUXWM0hqHSqxlYXWUtwFUAirzVwpUUENFaRbjTY' 
        fetch('http://localhost:3000/api/v1/images', {
  headers: {
    Authorization: `Bearer ${token}`
  }
})
  .then(r => r.json())
  .then(console.log);
  </script>
</body>
</html>
